// script for clearing out the local bitbot database and inserting test data
// run: "mongo < bitbot.test.mongo"

use bitbot

// remove all data in local database
db.getCollectionNames().forEach(
  function(collection_name) {
    if(collection_name != "system.indexes") {
      db[collection_name].remove({})
      db[collection_name].drop()
    }
  }
);

// insert price backfill for bitcoin
db.price.insertMany([
  { "_id" : ObjectId("5ec216ddd78482b076ca0c9f"), "ticker" : "BTC", "open" : 9795.2825564091, "high" : 9848.1853608679, "low" : 9155.515350643, "date" : "2020-05-15" },
  { "_id" : ObjectId("5ec216ddd78482b076ca0ca0"), "ticker" : "BTC", "open" : 9362.6366461472, "high" : 9583.062439468, "low" : 9219.3622046505, "date" : "2020-05-16" },
  { "_id" : ObjectId("5ec216ddd78482b076ca0ca1"), "ticker" : "BTC", "open" : 9418.913715302, "high" : 9879.7120397774, "low" : 9327.7638326824, "date" : "2020-05-17" }
])
